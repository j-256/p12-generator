<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate .p12 Certificate</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="site-header">
        <h1 class="title">Salesforce B2C .p12 Generator</h1>
    </header>
    <div class="main-layout">
        <div class="panel left-panel">
            <form id="certForm" autocomplete="on">
                <p class="description">All fields are required.</p>
                <label for="hostname">Hostname</label>
                <input type="text" id="hostname" name="hostname" required placeholder="cert.staging.realm.customer.demandware.net">

                <label for="years">Years until expiration</label>
                <input type="number" id="years" name="years" min="1" required placeholder="10">

                <label for="files">Upload Certificate Files (zip or individual)</label>
                <input type="file" id="files" name="files" multiple required accept=".zip,.crt,.key,.srl,.txt">

                <div id="output"></div>
                <button type="submit">Generate .p12</button>

                <button type="button" id="debugFill">Fill Debug Values</button>
                <script>
                    document.getElementById('debugFill').addEventListener('click', function() {
                        document.getElementById('hostname').value = 'staging.support02.dw.demandware.net';
                        document.getElementById('years').value = '1';
                        document.getElementById('country').value = 'US';
                        document.getElementById('state').value = 'Illinois';
                        document.getElementById('locality').value = 'Chicago';
                        document.getElementById('organization').value = 'Salesforce';
                        document.getElementById('orgUnit').value = 'Support';
                        document.getElementById('email').value = 'james.klein@salesforce.com';
                        document.getElementById('exportPassword').value = '1234';
                    });
                </script>
            </form>
        </div>
        <div class="panel right-panel">
            <form class="csr-fields" onsubmit="return false;">
                <label for="country">Country (2-letter code)</label>
                <input type="text" id="country" name="country" maxlength="2" required placeholder="US" autocomplete="country">

                <label for="state">State or Province Name</label>
                <input type="text" id="state" name="state" required placeholder="San Francisco" autocomplete="address-level1">

                <label for="locality">Locality Name (City)</label>
                <input type="text" id="locality" name="locality" required placeholder="California" autocomplete="address-level2">

                <label for="organization">Organization Name</label>
                <input type="text" id="organization" name="organization" required placeholder="Salesforce" autocomplete="organization">

                <label for="orgUnit">Organizational Unit Name</label>
                <input type="text" id="orgUnit" name="orgUnit" required placeholder="Support" autocomplete="on">

                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" required placeholder="user@company.com" autocomplete="email">

                <label for="exportPassword">Export Password<span class="tooltip" title="This password will be required to use the resulting .p12 certificate later.">?</span></label>
                <input type="password" id="exportPassword" name="exportPassword" required placeholder="1234" autocomplete="new-password">
            </form>
        </div>
    </div>
    <div class="bottom-panel">
        <pre id="console-log"></pre>
    </div>
    <script src="/static/libraries.js"></script>
    <script src="/main.js"></script>
</body>
</html>